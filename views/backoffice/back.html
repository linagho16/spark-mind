<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SparkMind - Back Office | Gestion Compl√®te</title>
    <link rel="stylesheet" href="back.css">
    <script src="back.js" defer></script>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <img src="logo.png" alt="SparkMind Logo" class="sidebar-logo">
            <h2>SparkMind</h2>
            <p class="admin-role">Administrateur</p>
        </div>

        <nav class="sidebar-nav">
            <a href="#demandes" class="nav-item active" onclick="showSection('demandes')">
                <span class="nav-icon">üìä</span>
                <span>Demandes d'aide</span>
                <span class="badge">12</span>
            </a>
            <a href="#categories" class="nav-item" onclick="showSection('categories')">
                <span class="nav-icon">üìÅ</span>
                <span>Cat√©gories</span>
            </a>
            <a href="#produits" class="nav-item" onclick="showSection('produits')">
                <span class="nav-icon">üì¶</span>
                <span>Produits</span>
            </a>
            <a href="#albums" class="nav-item" onclick="showSection('albums')">
                <span class="nav-icon">üì∏</span>
                <span>Albums</span>
            </a>
            <a href="#" class="nav-item logout">
                <span class="nav-icon">üö™</span>
                <span>D√©connexion</span>
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- ========================================
             SECTION 1: DEMANDES D'AIDE (EXISTANTE)
             ======================================== -->
        <section id="section-demandes" class="content-section active">
            <!-- Top Bar -->
            <div class="top-bar">
                <h1>Gestion des Demandes d'Aide</h1>
                <div class="top-bar-actions">
                    <div class="search-box">
                        <input type="text" id="searchDemandes" placeholder="Rechercher une demande...">
                        <span class="search-icon">üîç</span>
                    </div>
                    <div class="user-profile">
                        <span class="user-name">Admin</span>
                        <div class="user-avatar">A</div>
                    </div>
                </div>
            </div>

            <!-- Statistics Cards -->
            <div class="stats-container">
                <div class="stat-card urgent">
                    <div class="stat-icon">üî¥</div>
                    <div class="stat-info">
                        <h3>3</h3>
                        <p>Demandes urgentes</p>
                    </div>
                </div>
                <div class="stat-card pending">
                    <div class="stat-icon">‚è≥</div>
                    <div class="stat-info">
                        <h3>12</h3>
                        <p>En attente</p>
                    </div>
                </div>
                <div class="stat-card processed">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-info">
                        <h3>47</h3>
                        <p>Trait√©es</p>
                    </div>
                </div>
                <div class="stat-card total">
                    <div class="stat-icon">üìà</div>
                    <div class="stat-info">
                        <h3>62</h3>
                        <p>Total ce mois</p>
                    </div>
                </div>
            </div>

            <!-- Filters -->
            <div class="filters-section">
                <div class="filter-group">
                    <label>Statut:</label>
                    <select class="filter-select" name="statut">
                        <option value="">Tous</option>
                        <option value="nouveau">Nouveau</option>
                        <option value="en-cours">En cours</option>
                        <option value="traite">Trait√©</option>
                        <option value="refuse">Refus√©</option>
                    </select>
                </div>
                <button class="btn-filter">Filtrer</button>
                <button class="btn-reset">R√©initialiser</button>
            </div>

            <!-- Demandes Table -->
            <div class="table-container">
                <table class="demandes-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Date</th>
                            <th>Nom</th>
                            <th>Gouvernorat</th>
                            <th>Type d'aide</th>
                            <th>Urgence</th>
                            <th>Statut</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Donn√©es dynamiques -->
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button class="page-btn" disabled>¬´ Pr√©c√©dent</button>
                <button class="page-btn active">1</button>
                <button class="page-btn">Suivant ¬ª</button>
            </div>
        </section>

        <!-- ========================================
             SECTION 2: CATEGORIES (NOUVELLE)
             ======================================== -->
        <section id="section-categories" class="content-section">
            <div class="top-bar">
                <h1>üìÅ Gestion des Cat√©gories</h1>
                <button class="btn-add" onclick="showAddCategoryForm()">‚ûï Ajouter une cat√©gorie</button>
            </div>

            <div class="table-container">
                <table class="categories-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nom</th>
                            <th>Description</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="categoriesTableBody">
                        <!-- Donn√©es dynamiques -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- ========================================
             SECTION 3: PRODUITS (NOUVELLE)
             ======================================== -->
        <section id="section-produits" class="content-section">
            <div class="top-bar">
                <h1>üì¶ Gestion des Produits</h1>
                <button class="btn-add" onclick="showAddProductForm()">‚ûï Ajouter un produit</button>
            </div>

            <div class="table-container">
                <table class="products-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nom</th>
                            <th>Date</th>
                            <th>Cat√©gorie (JOIN)</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <!-- Donn√©es dynamiques -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- ========================================
             SECTION 4: ALBUMS (NOUVELLE)
             ======================================== -->
        <section id="section-albums" class="content-section">
            <div class="top-bar">
                <h1>üì∏ Gestion des Albums</h1>
                <button class="btn-add" onclick="showAddAlbumForm()">‚ûï Ajouter un album</button>
            </div>

            <div class="table-container">
                <table class="albums-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nom</th>
                            <th>Date</th>
                            <th>D√©tails</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="albumsTableBody">
                        <!-- Donn√©es dynamiques -->
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <!-- ========================================
         MODALS ET FORMULAIRES
         ======================================== -->

    <!-- Modal: Add/Edit Category -->
    <div id="modalCategory" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="categoryModalTitle">Ajouter une cat√©gorie</h2>
                <button class="modal-close" onclick="closeModal('modalCategory')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formCategory" onsubmit="saveCategory(event)">
                    <input type="hidden" id="categoryId">
                    <div class="form-group">
                        <label>Nom de la cat√©gorie <span class="required">*</span></label>
                        <input type="text" id="categoryName" required placeholder="Ex: Tech, Design, Sant√©...">
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="categoryDescription" rows="4" placeholder="Description de la cat√©gorie..."></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-cancel" onclick="closeModal('modalCategory')">Annuler</button>
                        <button type="submit" class="btn-save">üíæ Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Add/Edit Product -->
    <div id="modalProduct" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="productModalTitle">Ajouter un produit</h2>
                <button class="modal-close" onclick="closeModal('modalProduct')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formProduct" onsubmit="saveProduct(event)">
                    <input type="hidden" id="productId">
                    <div class="form-group">
                        <label>Nom du produit <span class="required">*</span></label>
                        <input type="text" id="productName" required placeholder="Nom du produit">
                    </div>
                    <div class="form-group">
                        <label>Date <span class="required">*</span></label>
                        <input type="date" id="productDate" required>
                    </div>
                    <div class="form-group">
                        <label>Cat√©gorie <span class="required">*</span></label>
                        <select id="productCategoryId" required>
                            <option value="">S√©lectionnez une cat√©gorie</option>
                            <!-- Options remplies dynamiquement -->
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-cancel" onclick="closeModal('modalProduct')">Annuler</button>
                        <button type="submit" class="btn-save">üíæ Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Add/Edit Album -->
    <div id="modalAlbum" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="albumModalTitle">Ajouter un album</h2>
                <button class="modal-close" onclick="closeModal('modalAlbum')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formAlbum" onsubmit="saveAlbum(event)">
                    <input type="hidden" id="albumId">
                    <div class="form-group">
                        <label>Nom de l'album <span class="required">*</span></label>
                        <input type="text" id="albumName" required placeholder="Nom de l'album">
                    </div>
                    <div class="form-group">
                        <label>Date <span class="required">*</span></label>
                        <input type="date" id="albumDate" required>
                    </div>
                    <div class="form-group">
                        <label>D√©tails</label>
                        <textarea id="albumDetails" rows="4" placeholder="D√©tails de l'album..."></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-cancel" onclick="closeModal('modalAlbum')">Annuler</button>
                        <button type="submit" class="btn-save">üíæ Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal D√©tails Demande (existante) -->
    <div class="modal" id="detailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>D√©tails de la Demande</h2>
                <button class="modal-close" onclick="closeModal('detailsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Contenu dynamique -->
            </div>
        </div>
    </div>
</body>
</html>
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SparkMind - Gestion des R√©ponses</title>
   
    <style>
        /* ==========================================
   SPARKMIND ‚Äî GESTION DES R√âPONSES
   Style IDENTIQUE au back-office SparkMind
   ========================================== */

/* RESET */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

/* BASE */
body{
  min-height:100vh;
  font-family:'Poppins', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  color:#1A464F;
  background:
    radial-gradient(circle at top left, rgba(125,90,166,0.25), transparent 55%),
    radial-gradient(circle at bottom right, rgba(236,117,70,0.20), transparent 55%),
    #FBEDD7;
}

/* ==========================================
   LAYOUT
   ========================================== */
.container{
  display:flex;
  min-height:100vh;
}

/* ==========================================
   SIDEBAR
   ========================================== */
.sidebar{
  width:260px;
  background:linear-gradient(#ede8de 50%, #f7f1eb 100%);
  border-right:1px solid rgba(0,0,0,.06);
  padding:18px 14px;
  display:flex;
  flex-direction:column;
}

.logo h2{
  font-family:'Playfair Display', serif;
  font-size:20px;
  margin-bottom:4px;
}

.logo p{
  font-size:12px;
  color:#6B5F55;
  margin-bottom:14px;
}

.nav-menu{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.nav-item{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:12px;
  text-decoration:none;
  color:#1A464F;
  font-weight:600;
  transition:background .15s ease, transform .15s ease;
}

.nav-item:hover{
  background:#f5e2c4;
  transform:translateY(-1px);
}

.nav-item.active{
  background:#f5e2c4;
  color:#0b3936;
}

/* ==========================================
   MAIN CONTENT
   ========================================== */
.main-content{
  flex:1;
  padding:24px;
}

/* HEADER */
.header{
  background:rgba(255,247,239,.95);
  border-radius:22px;
  padding:18px 22px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 20px 40px rgba(0,0,0,.18);
  margin-bottom:22px;
}

.header h1{
  font-family:'Playfair Display', serif;
  font-size:24px;
}

.user-info{
  font-weight:600;
}

/* ==========================================
   NOTIFICATION
   ========================================== */
.notification{
  display:none;
  padding:12px 16px;
  border-radius:14px;
  margin-bottom:16px;
  font-size:13px;
  font-weight:600;
}

.notification.success{ background:#e0f9e5; color:#1b6b2a; }
.notification.error{ background:#ffe0e0; color:#b02222; }

/* ==========================================
   STATS
   ========================================== */
.stats-container{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px,1fr));
  gap:14px;
  margin-bottom:20px;
}

.stat-card{
  background:rgba(255,255,255,.9);
  border-radius:18px;
  padding:14px;
  display:flex;
  gap:12px;
  box-shadow:0 8px 18px rgba(0,0,0,.08);
}

.stat-icon{
  font-size:26px;
}

.stat-info h3{
  font-size:20px;
}

.stat-info p{
  font-size:12px;
  opacity:.8;
}

/* ==========================================
   FILTERS
   ========================================== */
.filters-section{
  background:rgba(255,255,255,.9);
  border-radius:18px;
  padding:14px;
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:12px;
  box-shadow:0 8px 18px rgba(0,0,0,.06);
  margin-bottom:18px;
}

.search-box input{
  padding:8px 14px;
  border-radius:999px;
  border:1px solid #ccc;
  outline:none;
  width:280px;
}

.search-box input:focus{
  border-color:#1A464F;
  box-shadow:0 0 0 2px rgba(26,70,79,.15);
}

.filter-group{
  display:flex;
  gap:10px;
}

.filter-group select{
  padding:8px 12px;
  border-radius:999px;
  border:1px solid #ccc;
  font-size:13px;
}

.btn-reset{
  background:transparent;
  border:1px solid rgba(26,70,79,.35);
  color:#1A464F;
  padding:8px 14px;
  border-radius:999px;
  font-weight:600;
  cursor:pointer;
}

/* ==========================================
   TABLE
   ========================================== */
.table-section{
  background:#fff;
  border-radius:18px;
  padding:14px;
  box-shadow:0 8px 18px rgba(0,0,0,.06);
}

.table-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}

.table-header h2{
  font-family:'Playfair Display', serif;
}

.btn-refresh{
  background:#1A464F;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:999px;
  cursor:pointer;
  font-weight:600;
}

.table-responsive{
  overflow-x:auto;
}

table{
  width:100%;
  border-collapse:collapse;
}

th,td{
  padding:10px;
  border-bottom:1px solid #eee;
  font-size:13px;
}

th{
  background:#f7f1eb;
  text-align:left;
}

tbody tr:hover{
  background:rgba(245,226,196,.35);
}

/* ==========================================
   PAGINATION
   ========================================== */
.pagination{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:14px;
}

.btn-pagination{
  padding:8px 14px;
  border-radius:999px;
  border:1px solid rgba(26,70,79,.35);
  background:transparent;
  cursor:pointer;
  font-weight:600;
}

/* ==========================================
   MODALS
   ========================================== */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:1000;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.modal-content{
  background:rgba(255,247,239,.95);
  border-radius:24px;
  width:100%;
  max-height:90vh;
  overflow:auto;
  box-shadow:0 20px 40px rgba(0,0,0,.18);
}

.modal-large{ max-width:900px; }
.modal-small{ max-width:420px; }

.modal-header{
  padding:14px 16px;
  border-bottom:1px solid rgba(0,0,0,.06);
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.modal-header h2{
  font-family:'Playfair Display', serif;
  font-size:18px;
}

.close-btn{
  background:#1A464F;
  color:#fff;
  border:none;
  width:34px;
  height:34px;
  border-radius:50%;
  font-size:18px;
  cursor:pointer;
}

.modal-body{
  padding:16px;
}

/* ==========================================
   DEMANDE + R√âPONSES
   ========================================== */
.demande-info,
.reponses-list,
.add-reponse-form{
  background:#fff;
  border-radius:18px;
  padding:14px;
  margin-bottom:14px;
  box-shadow:0 8px 18px rgba(0,0,0,.06);
}

.info-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:10px;
}

.info-grid .full-width{
  grid-column:1/-1;
}

.reponses-list h3,
.add-reponse-form h3{
  margin-bottom:10px;
  font-family:'Playfair Display', serif;
}

/* FORM */
.form-group{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-bottom:12px;
}

.form-group input,
.form-group textarea,
.form-group select{
  padding:8px 12px;
  border-radius:14px;
  border:1px solid #ccc;
  font-size:13px;
}

.btn-submit{
  background:#1A464F;
  color:#fff;
  border:none;
  padding:10px 16px;
  border-radius:999px;
  font-weight:700;
  cursor:pointer;
}

/* ==========================================
   DELETE MODAL
   ========================================== */
.warning-text{
  color:#b02222;
  font-weight:600;
  margin-top:8px;
}

.modal-actions{
  display:flex;
  justify-content:flex-end;
  gap:10px;
  margin-top:14px;
}

.btn-cancel{
  background:transparent;
  border:1px solid rgba(26,70,79,.35);
  color:#1A464F;
  padding:8px 14px;
  border-radius:999px;
}

.btn-delete{
  background:#E23B3B;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:999px;
  font-weight:700;
}

/* ==========================================
   RESPONSIVE
   ========================================== */
@media(max-width:900px){
  .sidebar{ width:220px; }
}

@media(max-width:768px){
  .container{ flex-direction:column; }
  .sidebar{ width:100%; }
}

    </style>

    
</head>
<body>
    <!-- Container principal -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <H2>  SPARKMIND</h2>
                <p>Gestion des R√©ponses</p>
            </div>
            <nav class="nav-menu">
                <a href="/sparkmind_mvc_100percent/index.php?page=admin_users" class="nav-item">
                    üìã Dashboard Admin
                </a>
                <a href="#" class="nav-item active">
                    üí¨ G√©rer les R√©ponses
                </a>
                <a href="#" class="nav-item">
                    üìä Statistiques
                </a>
                <a href="/sparkmind_mvc_100percent/index.php?page=backoffice" class="nav-item">
                    üë• Demandeurs
                </a>
                <a href="#" class="nav-item">
                    üìß Notifications
                </a>
                <a href="#" class="nav-item">
                    ‚öôÔ∏è Configuration
                </a>
                <a href="#" class="nav-item">
                    ‚ùì Aide
                </a>
            </nav>
        </aside>

        <!-- Contenu principal -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <h1>üí¨ Gestion des R√©ponses aux Demandes</h1>
                <div class="user-info">
                    <span>üë§ Admin</span>
                </div>
            </header>

            <!-- Zone de notification -->
            <div id="notification" class="notification"></div>

            <!-- Statistiques des r√©ponses -->
            <section class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">üì©</div>
                    <div class="stat-info">
                        <h3 id="totalReponses">0</h3>
                        <p>Total R√©ponses</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚è≥</div>
                    <div class="stat-info">
                        <h3 id="demandesSansReponse">0</h3>
                        <p>Sans R√©ponse</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-info">
                        <h3 id="demandesAvecReponse">0</h3>
                        <p>Avec R√©ponse</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìÖ</div>
                    <div class="stat-info">
                        <h3 id="reponsesDuJour">0</h3>
                        <p>Aujourd'hui</p>
                    </div>
                </div>
            </section>

            <!-- Filtres et recherche -->
            <section class="filters-section">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="üîç Rechercher par ID, nom, administrateur...">
                </div>
                <div class="filter-group">
                    <select id="filterStatut">
                        <option value="">Tous les statuts</option>
                        <option value="en_attente">En attente</option>
                        <option value="en_cours">En cours</option>
                        <option value="traite">Trait√©</option>
                        <option value="rejete">Rejet√©</option>
                    </select>
                    <select id="filterAvecReponse">
                        <option value="">Toutes les demandes</option>
                        <option value="avec">Avec r√©ponse</option>
                        <option value="sans">Sans r√©ponse</option>
                    </select>
                    <button id="btnReset" class="btn-reset">üîÑ R√©initialiser</button>
                </div>
            </section>

            <!-- Tableau des demandes avec r√©ponses -->
            <section class="table-section">
                <div class="table-header">
                    <h2>üìã Liste des Demandes</h2>
                    <button id="btnRefresh" class="btn-refresh">üîÑ Actualiser</button>
                </div>
                <div class="table-responsive">
                    <table id="demandesTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Demandeur</th>
                                <th>Statut</th>
                                <th>Urgence</th>
                                <th>Date Demande</th>
                                <th>R√©ponses</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Les donn√©es seront charg√©es dynamiquement -->
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button id="btnPrev" class="btn-pagination">‚Üê Pr√©c√©dent</button>
                    <span id="pageInfo">Page 1</span>
                    <button id="btnNext" class="btn-pagination">Suivant ‚Üí</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal pour voir les r√©ponses -->
    <div id="modalReponses" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>üí¨ R√©ponses pour la demande #<span id="modalDemandeId"></span></h2>
                <button class="close-btn" onclick="closeModal('modalReponses')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Informations de la demande -->
                <div class="demande-info">
                    <h3>üìã Informations de la demande</h3>
                    <div class="info-grid">
                        <div><strong>Demandeur:</strong> <span id="infoNom"></span></div>
                        <div><strong>Email:</strong> <span id="infoEmail"></span></div>
                        <div><strong>T√©l√©phone:</strong> <span id="infoTelephone"></span></div>
                        <div><strong>Urgence:</strong> <span id="infoUrgence"></span></div>
                        <div class="full-width"><strong>Description:</strong> <span id="infoDescription"></span></div>
                    </div>
                </div>

                <!-- Liste des r√©ponses -->
                <div class="reponses-list">
                    <h3>üí¨ Historique des r√©ponses (<span id="nbReponses">0</span>)</h3>
                    <div id="reponsesContainer">
                        <!-- Les r√©ponses seront charg√©es ici -->
                    </div>
                </div>

                <!-- Formulaire d'ajout de r√©ponse -->
                <div class="add-reponse-form">
                    <h3>‚úçÔ∏è Ajouter une r√©ponse</h3>
                    <form id="formAddReponse">
                        <input type="hidden" id="reponseDemandeId">
                        <div class="form-group">
                            <label>Administrateur:</label>
                            <input type="text" id="reponseAdmin" placeholder="Votre nom" required>
                        </div>
                        <div class="form-group">
                            <label>Message de r√©ponse:</label>
                            <textarea id="reponseMessage" rows="4" placeholder="Votre r√©ponse √† la demande..." required></textarea>
                        </div>
                        <div class="form-group">
                            <label>Changer le statut de la demande:</label>
                            <select id="reponseStatut">
                                <option value="">Ne pas modifier</option>
                                <option value="en_cours">En cours de traitement</option>
                                <option value="traite">Trait√©</option>
                                <option value="rejete">Rejet√©</option>
                            </select>
                        </div>
                        <button type="submit" class="btn-submit">üì§ Envoyer la r√©ponse</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal pour supprimer une r√©ponse -->
    <div id="modalDeleteReponse" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>‚ö†Ô∏è Confirmation de suppression</h2>
                <button class="close-btn" onclick="closeModal('modalDeleteReponse')">&times;</button>
            </div>
            <div class="modal-body">
                <p>√ätes-vous s√ªr de vouloir supprimer cette r√©ponse ?</p>
                <p class="warning-text">Cette action est irr√©versible.</p>
                <div class="modal-actions">
                    <button class="btn-cancel" onclick="closeModal('modalDeleteReponse')">Annuler</button>
                    <button class="btn-delete" id="confirmDeleteReponse">Supprimer</button>
                </div>
            </div>
        </div>
    </div>

    <script src="reponse.js"></script>
</body>
</html>